{"version":3,"file":"ExponentMailComposer.web.js","sourceRoot":"","sources":["../../src/MailComposer/ExponentMailComposer.web.ts"],"names":[],"mappings":"AAAA,OAAO,MAAM,MAAM,eAAe,CAAC;AACnC,OAAO,EAAE,MAAM,cAAc,CAAC;AAG9B,SAAS,UAAU,CAAC,KAAyB;IAC3C,IAAI,CAAC,KAAK,EAAE;QACV,OAAO,IAAI,CAAC;KACb;IAED,MAAM,GAAG,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;IACnD,OAAO,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACvB,CAAC;AAED,eAAe;IACb,IAAI,IAAI;QACN,OAAO,sBAAsB,CAAC;IAChC,CAAC;IACD,KAAK,CAAC,YAAY,CAAC,OAAuB;QACxC,MAAM,KAAK,GAAG,MAAM,CAAC;YACnB,EAAE,EAAE,UAAU,CAAC,OAAO,CAAC,YAAY,CAAC;YACpC,GAAG,EAAE,UAAU,CAAC,OAAO,CAAC,aAAa,CAAC;YACtC,OAAO,EAAE,OAAO,CAAC,OAAO;YACxB,IAAI,EAAE,OAAO,CAAC,IAAI;SACnB,CAAC,CAAC;QAEH,MAAM,KAAK,GAAG,EAAE,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAClC,MAAM,cAAc,GAAG,KAAK,CAAC,CAAC,CAAC,GAAG,GAAG,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC;QAChD,MAAM,EAAE,GAAG,UAAU,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QAC1C,MAAM,kBAAkB,GAAG,EAAE,IAAI,EAAE,CAAC;QACpC,MAAM,MAAM,GAAG,UAAU,kBAAkB,GAAG,cAAc,EAAE,CAAC;QAE/D,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAEpB,OAAO,EAAE,MAAM,EAAE,cAAc,EAAE,CAAC;IACpC,CAAC;CACF,CAAC","sourcesContent":["import filter from 'lodash.filter';\nimport qs from 'query-string';\nimport { ComposeOptions, ComposeResult } from './MailComposer.types';\n\nfunction checkValue(value?: string[] | string): string | null {\n  if (!value) {\n    return null;\n  }\n\n  const arr = Array.isArray(value) ? value : [value];\n  return arr.join(',');\n}\n\nexport default {\n  get name(): string {\n    return 'ExponentMailComposer';\n  },\n  async composeAsync(options: ComposeOptions): Promise<ComposeResult> {\n    const email = filter({\n      cc: checkValue(options.ccRecipients),\n      bcc: checkValue(options.bccRecipients),\n      subject: options.subject,\n      body: options.body,\n    });\n\n    const query = qs.stringify(email);\n    const queryComponent = query ? '?' + query : '';\n    const to = checkValue(options.recipients);\n    const recipientComponent = to || '';\n    const mailto = `mailto:${recipientComponent}${queryComponent}`;\n\n    window.open(mailto);\n\n    return { status: 'undetermined' };\n  },\n};\n"]}